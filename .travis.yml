sudo: true
dist: trusty
services:
  - docker
language: python
python:
  - '3.5'
before_install:
  - "pip install 'lander>=0.1.0,<0.2'"
script:
  # Compile PDF using containerized lsst-texmf
  - "docker run --rm -v `pwd`:/workspace -w /workspace lsstsqre/lsst-texmf:latest sh -c 'make'"
after_success:
  # Deploy website. See https://github.com/lsst-sqre/lander for CLI options
  - "lander --pdf DMTN-065.pdf --upload --lsstdoc DMTN-065.tex --env=travis --ltd-product $PRODUCT"
env:
  global:
    - PRODUCT="dmtn-065"
    # Add AWS and LTD Keeper credentials as encrypted secrets here

    - secure: "BQvzoloEzokxAExx9L21UkL+41rI1y+FldW7su7d9yjHDutB1YLfAFnL0qMtY6p/syJV1NOb8N07i2JR8XhO3VlZfwWBrhBW5ULV06qAh2VXJuE0+rM6ppAkokWa5U6yhNV7jDycHI+bP75jbauEyYnmg02jA6+g69+BLqCfwPeg6ktRG3LVkqqzLDQq//z7Z+3c2G/bVMgA+qkNs65pZ1C6bOpZYj8zTN9iE1EwQpZ4Ol7PJp3TPT7namScfERBQiyLbdc4V9dF7HZaU2uEbr7eoUpEwsyZy6qxixP/QsROsrZ9SvPP36YHpCiI0kCVUDR84XDo0Fyx3B8WWXhwbf4nHm/rZp4fJBxwZ/eoVnYlspH41fz1wJHpQUBkd8Vzc+Nm4TlxNl9t5cAT8SCFZA/oMKSPvD+esG/0ECRO+CUNm6Hv1cV8CX+gyGa19pTO5glUcwvbN8nOsxS5WwjoSQZFOnSX54v9aKNGKzvR/KOH3ff90BVQjo8akDIhm9TUo34mSMSt4lhf9AeSGggOPUCae9+VmgADs7XjfZoqV4YMNJ8kWapTFaXnt9SWdlyxhxr3299wRPegC+n5pFwhC+2r2/djKmWS29dJCm6IsHKYTVHLwcl3VKyoAtaJMetauof0w4je6o4iQjVa5HNsPHvuQRGylHQvTpmdYz6pKtg="
    - secure: "Hj1fkrRZPZnjiifD0IOylZhnrdAlZ0sb7Oj9QE5socqyQ8aglphTKic58VLTvMYlPC4nHp25ha6EpbeFp3SwZPpuyjd6VD6cw2uvrNjPknxaYBD/uo7Bzj26Gj0hl03KlaoIFXdwQv7G9wUhwXhNvdkzt5IQ2V/e3UeOCpHfA5QmxCyCm7tpJ+mrgAv/3m/QygOi2AouFFSMiT4vuLybAM6DZe+tfHWY+C6r9akmZdTln5Tz+RyUPsnQ6w1+xDGPc2bJSaVlbcRNDVURmj/VHQf0z7dvcrIeMQ3wrQxhbsqeT2wJPnp7leMIUBI7Mn3WQw8B29+Z2QSMKCrNPp7MgdwGskJEy2AL6+B74iR1JYah5URDIJLpGYoYrEqsMf9cNhznzvE+mwHvvDI3Gw6/BKSZ8IwIBMhImIZADoWSCvGbZd+U75E3sxKpKxs8YFjSNh8wxRSV3kcSkyBmgrNrmPC9Qdb4DChXV9cFKioYUFXOkWnWcW1kgsn4hnlBuxBU9siyj/RW2JySQu+gDQn++x3L/hMk1dJxSl/daUKcF69eHQ2yD1sh3V+XcOfsdZvdyIkVyOiprjNklZjkArkMCT1ZPKxTeRlgO8MShhOceFmo1Wv/10lfruMpzB9Blf9F0EHj1Zljp5zg8+u2BHnNCkTuITZFONKjw7Wi6l2Wvno="
    - secure: "i95CJrmbVbcnqNSI5hitea1u0E+H088etuBYDW/aErKznxsSE700VXdNXfebXEG9RGsdMrST7CVppLZeDLV6n0WA2TtRODrO6kcw/XmsWOntQFLomXh24Dr7cGwdbhWrRsluNVThPJq9XG05DvM+LPx61UJstDVHAhgAsWFHWESAwpxcwpjcItBM5u9KrqG9bLyZuREhpObcGyoVeG33ZXFZIFKuCkBPSB1ZLq0ALBsA3yXGKVHsONtLJn5X2+8I5BrIHU1TWG6zXyntyAxFnR9zIZCsxWS9q0hvftdjm/8uZmzAqsT0T1b4MrBA0CMdXYGBUAt19O3lhReXOELd3DoB/1K//y4ZnagRnVXUK1F/Of6PYTFcoT9js70i6zqDOXJ0XTjtbj4mAgYal0CdxXu2oI0j9TgQ72YI/KePu5nh6coAqvLGkrUIJz8fibvAAH59+Y4Zmz4F39uPOIzjwnBX16T3eRcxzxNYQV49Ugad2tDE1vaRNp2hRPTmYiBiSEQlcIfcQpiqs+EpJtf+QS2VFsIDsDPgpf7hXVAf5Wwp+bg4SD/SlLpuk3KT/8eaX/lS6eX9cc956ojh2T9ViRQxXj+bCO9UMUzRU0s71FJGKiKhGl1wIcPxh68UPVROBMef0hfnM7MCZjl1KoGn+JNX2k0yEOE11Jv0uOtVwug="
    - secure: "Qdwa77IYIFcL55oTG0V9rPycN/A6nYNGrh8nKiNNwBuslLG21nAO4OzZinZBDgEDEoFbRYeWHsd8tGe1UkyhZAalyYvXsDdjE76DEzhAEApQ8wqaUqSeAYY4nltwlaQrT0ugAMcqAtSyfWTs5YX2bAM9DHG9HBqNwAQ54QsVzrXegAtW1+Fyz/v1uXPoRjIOpAcVve9qCm5F38UeOx11Fp+vZZ70kAPV12ItA02N1JVPBc6GpOZ9k4Q26iZohob56Km9Av3TXCmTw5Ur3pUfomezk5XY9cR64y+J2l+0vK4Li9lJxmLJ484wek6TH5OBCnYP9OOHlQKR3fKz4W3g+aca8qMdY1SXB0FEmw75V931WTddIuajSmIkMJELXEDQTDY8BFWrPK34VUo/5f7HpVVDtiOkQi3f5SOtoWZHSJHoWDR0TOkHvUw1kMqum53pGi+UIX7XZzL6b/WXssaM5FRK6EsDZtCB63a5ejld+nj+AX4eBMUdbNdN6l4hAokxuNAIhe0XbYkY6X5ON5Daf9vnOr3HYvb3txVuEuuhkce69zij6zc0DmX8AMb/ytdOd5AXWaHwr8Qika58Ef+N5GGcY44EdP9UEgvWvTeu3r8Y8pOTLB6D0KJD0L7WT4ZZVIOOOPMQO8tjnwEQLB4jnNHjPKuQglXkgYCKWn5cexM="
    - secure: "S7XmnDnEmMAtcxG8CSQi3G9vxaNv2gRHMSkl5sLACC801TIg1X/cvnMEC1rArInH6dj0B9BMoaS9qa78YprqUDbnNn6sY+gNr6gs8TIhPuDe8pU/ATlGmCGS6F8NGk1BtwuW7B7HFjc6hhcMgZMxaWZADcr+A/aiue5xpcL62iyhZ8RzU+PikCfYYMMKctzHvJidmRkvlauCaTHkf69u//s5+4PfEY63akDA9Q7pjCyKbcGBAOJbzzrrkcvSFmOJdhO7qsTayZbwWtRZ/spD5HMRPbuOafgJLZ/utcvEc5eQm4OWVWl6HWDDXivUngnlFIn/+oRUkBvu8me8vX3/Dc9fcN8jE3Vl+9c1BVYQ2Z/08pPtxIrbyFDVBt/wN7qrXnnQIyOcsw+elsVD7o+H0XuzhlrRgLiMaFJVvf2Z+RQ2pofQL8dWOLoPHiLyh3i4QUbpg+XpK1rA8iSh+cJxwhKO1owWpcGERaSQKcRpSl6qH9jvvolzPPbCfHUNxHCjYejME07+Eu1MMuHseQgdWY+M5NIdkHXKamS0zVZLgD5MsFu3x9VocKAGn9U/+Q17ZQBDxjLtpPTSYrlgiwcOUslbThGZ1WyW3cCbuOF6YmBCTYZHnr0TkWvKDX2tKTVqxhmIvqBMjEO8m1di/JI4eFflXHIhwXZ120pt8XeS0P0="

